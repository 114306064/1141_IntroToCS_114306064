  <!DOCTYPE html>
  <html>
  <head>
  	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1">
  	<title></title>
  </head>
  <body>
  	<h1>114306064_HW7_1A2B</h1>
  	Enter 4 unique numbers:<input type = "text" id = "Input">
    <input type = "button" id = "Button" value = "Submit" onclick="play()">

    <h3>Guess Record: </h3>
    <ul id = "record"></ul>
    <script>
    	var answer = generateAnswer();
    	var attempts = 0;

    	function generateAnswer(){
           var numbers = [0,1,2,3,4,5,6,7,8,9];
           var result = "";
           for(var i = 0; i < 4; i++){
           	var idx = Math.floor(Math.random() * numbers.length);
            result += numbers[idx];
            numbers.splice(idx, 1);
    	   }
    	   return result;
    	}

       	function isValid(str) {
           if (str.length !== 4) {
               alert("Input must be exactly 4 digits.");
               return false;
           }
           if (new Set(str).size !== 4) {
            alert("Digits must not repeat.");
            return false;
           }

           return true;
        }

        function checkAB(guess, ans){
        	var A = 0;
        	var B = 0;
        	for (var i = 0; i < 4; i++) {
                if (guess[i] === ans[i]) {
                    A++;
                } else if (ans.includes(guess[i])) {
                    B++; 
                }                         
            }
            return A + "A" + B + "B";
        }

        function play(){
        	var inputField = document.getElementById("Input");
            var guess = inputField.value.trim();

            if (!isValid(guess)) return;
            
            attempts++;
            var result = checkAB(guess, answer);

            var li = document.createElement("li");
            li.textContent = "Guess " + attempts + ": " + guess + " â†’ " + result;
            document.getElementById("record").appendChild(li);

            if (result === "4A0B") {
               alert("Correct! Total attempts: " + attempts);
            }
        }



      
    </script>

  </body>
  </html>